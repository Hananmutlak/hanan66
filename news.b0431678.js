!function(e,t,r,n,i,o,a,l){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},c="function"==typeof s[n]&&s[n],d=c.i||{},u=c.cache||{},f="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function p(t,r){if(!u[t]){if(!e[t]){if(i[t])return i[t];var o="function"==typeof s[n]&&s[n];if(!r&&o)return o(t,!0);if(c)return c(t,!0);if(f&&"string"==typeof t)return f(t);var a=Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}d.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},d.cache={};var l=u[t]=new p.Module(t);e[t][0].call(l.exports,d,l,l.exports,s)}return u[t].exports;function d(e){var t=d.resolve(e);return!1===t?{}:p(t)}}p.isParcelRequire=!0,p.Module=function(e){this.id=e,this.bundle=p,this.require=f,this.exports={}},p.modules=e,p.cache=u,p.parent=c,p.distDir=void 0,p.publicUrl=void 0,p.devServer=void 0,p.i=d,p.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(p,"root",{get:function(){return s[n]}}),s[n]=p;for(var m=0;m<t.length;m++)p(t[m]);if(r){var h=p(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=h:"function"==typeof define&&define.amd&&define(function(){return h})}}({juMe2:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"NewsModule",()=>w);let o=document.getElementById("newsContainer"),a=[c,d,u];function l(){m(),s()}async function s(){try{let e=await Promise.any(a.map(e=>e()));f(e),localStorage.setItem("cachedNews",JSON.stringify(e))}catch(e){h("Failed to connect to news sources. Displaying cached data."),p()}}async function c(){try{let e=await fetch("https://www.reddit.com/r/health/top.json?limit=10");return(await e.json()).data.children.map(e=>({title:e.data.title,description:e.data.selftext,url:`https://reddit.com${e.data.permalink}`,image:e.data.thumbnail||"./assets/images/news-placeholder.jpg",date:new Date(1e3*e.data.created_utc),source:"Reddit"}))}catch{throw Error("Reddit failed")}}async function d(){try{let e=await fetch("https://api.allorigins.win/raw?url="+encodeURIComponent("https://feeds.bbci.co.uk/news/health/rss.xml")),t=await e.text(),r=new DOMParser().parseFromString(t,"text/xml").querySelectorAll("item");return Array.from(r).map(e=>({title:e.querySelector("title").textContent,description:e.querySelector("description").textContent,url:e.querySelector("link").textContent,image:e.querySelector("media\\:thumbnail, thumbnail")?.getAttribute("url")||"./assets/images/news-placeholder.jpg",date:new Date(e.querySelector("pubDate").textContent),source:"BBC News"}))}catch{throw Error("BBC failed")}}async function u(){try{let e=await fetch("https://en.wikipedia.org/api/rest_v1/page/html/Portal:Current_events"),t=await e.text(),r=new DOMParser().parseFromString(t,"text/html").querySelectorAll(".vevent");return Array.from(r).map(e=>({title:e.querySelector(".summary")?.textContent.trim()||"حدث جاري",description:e.textContent.trim(),url:"https://en.wikipedia.org/wiki/Portal:Current_events",image:"./assets/images/news-placeholder.jpg",date:new Date,source:"Wikipedia"}))}catch{throw Error("Wikipedia failed")}}function f(e){if(!e?.length)return h("No news available");o.innerHTML=e.slice(0,10).map(e=>`
    <article class="news-card">
      <img src="${e.image}" alt="${e.title}" 
           onerror="this.src='./assets/images/news-placeholder.jpg'">
      <div class="content">
        <h3><a href="${e.url}" target="_blank">${e.title}</a></h3>
        <p>${e.description.substring(0,150)}...</p>
        <div class="meta">
          <span class="source">${e.source}</span>
          <time>${e.date.toLocaleDateString()}</time>
        </div>
      </div>
    </article>
  `).join("")}function p(){let e=localStorage.getItem("cachedNews");e&&f(JSON.parse(e))}function m(){o.innerHTML=`
    <div class="loading">
      <div class="spinner"></div>
      <p>Loading news...</p>
    </div>
  `}function h(e){o.innerHTML=`
    <div class="error">
      <i class="fas fa-exclamation-triangle"></i>
      <p>${e}</p>
    </div>
  `}let w={init:l,fetchNewsForCountry:async function(e){try{m();let t=await Promise.any(a.map(e=>e())),r=t.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()));f(r.length>0?r:t)}catch(e){h("Failed to connect to news sources. Displaying cached data."),p()}}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()},{"@parcel/transformer-js/src/esmodule-helpers.js":"l5Lmv"}],l5Lmv:[function(e,t,r,n){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}]},["juMe2"],"juMe2","parcelRequire5828",{});
//# sourceMappingURL=news.b0431678.js.map
