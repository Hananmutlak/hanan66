!function(e,t,n,i,o,r,s,a){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},c="function"==typeof l[i]&&l[i],u=c.i||{},f=c.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function h(t,n){if(!f[t]){if(!e[t]){if(o[t])return o[t];var r="function"==typeof l[i]&&l[i];if(!n&&r)return r(t,!0);if(c)return c(t,!0);if(d&&"string"==typeof t)return d(t);var s=Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}u.resolve=function(n){var i=e[t][1][n];return null!=i?i:n},u.cache={};var a=f[t]=new h.Module(t);e[t][0].call(a.exports,u,a,a.exports,l)}return f[t].exports;function u(e){var t=u.resolve(e);return!1===t?{}:h(t)}}h.isParcelRequire=!0,h.Module=function(e){this.id=e,this.bundle=h,this.require=d,this.exports={}},h.modules=e,h.cache=f,h.parent=c,h.distDir=void 0,h.publicUrl=void 0,h.devServer=void 0,h.i=u,h.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(h,"root",{get:function(){return l[i]}}),l[i]=h;for(var p=0;p<t.length;p++)h(t[p]);if(n){var g=h(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=g:"function"==typeof define&&define.amd&&define(function(){return g})}}({"4ol4K":[function(e,t,n,i){let o=globalThis.self,r="hanan66-final-v2",s="hanan66-api-v1",a=["./","./index.html","./statistics.html","./map.html","./prevention.html","./contact.html","./news.html","./css/main.css","./js/main.js","./js/map.js","./js/news.js","./js/charts.js","./assets/images/hero-bg.jpg","./assets/images/virus1.svg","./assets/images/virus1.png"];async function l(e){try{let t=new Request(e.url.replace("http://","https://"),e),n=await fetch(t);if(n.ok){let t=await caches.open(s);await t.put(e,n.clone())}return n}catch(t){return console.error("API request failed:",t),await caches.match(e)||new Response(JSON.stringify({error:"Network error"}),{status:503,headers:{"Content-Type":"application/json"}})}}async function c(e){try{let t=await fetch(e);if(t.ok){let n=await caches.open(r);await n.put(e,t.clone())}return t}catch(e){throw console.error("Fetch failed:",e),e}}o.addEventListener("install",e=>{e.waitUntil(caches.open(r).then(e=>(console.log("Opening cache"),e.addAll(a).then(()=>(console.log("All resources cached"),o.skipWaiting())).catch(e=>{throw console.error("Cache addAll error:",e),e}))))}),o.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.filter(e=>e!==r&&e!==s).map(e=>(console.log("Deleting old cache:",e),caches.delete(e)))).then(()=>(console.log("Claiming clients"),o.clients.claim()))))}),o.addEventListener("fetch",e=>{if("GET"===e.request.method){if(e.request.url.includes("newsapi.org")||e.request.url.includes("disease.sh")){e.respondWith(l(e.request));return}e.respondWith(caches.match(e.request).then(t=>t?(console.log("Serving from cache:",e.request.url),t):c(e.request)).catch(()=>"navigate"===e.request.mode?caches.match("/offline.html")||new Response("<h1>Offline</h1>",{headers:{"Content-Type":"text/html"}}):new Response("Offline",{status:503})))}}),o.addEventListener("message",e=>{"skipWaiting"===e.data&&(console.log("Skipping waiting"),o.skipWaiting())})},{}]},["4ol4K"],"4ol4K","parcelRequire5828",{});
//# sourceMappingURL=sw.4ad1a26b.js.map
