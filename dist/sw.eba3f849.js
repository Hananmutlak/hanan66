!function(e,t,n,i,o,s,r,a){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},c="function"==typeof l[i]&&l[i],u=c.i||{},f=c.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function h(t,n){if(!f[t]){if(!e[t]){if(o[t])return o[t];var s="function"==typeof l[i]&&l[i];if(!n&&s)return s(t,!0);if(c)return c(t,!0);if(d&&"string"==typeof t)return d(t);var r=Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}u.resolve=function(n){var i=e[t][1][n];return null!=i?i:n},u.cache={};var a=f[t]=new h.Module(t);e[t][0].call(a.exports,u,a,a.exports,l)}return f[t].exports;function u(e){var t=u.resolve(e);return!1===t?{}:h(t)}}h.isParcelRequire=!0,h.Module=function(e){this.id=e,this.bundle=h,this.require=d,this.exports={}},h.modules=e,h.cache=f,h.parent=c,h.distDir=void 0,h.publicUrl=void 0,h.devServer=void 0,h.i=u,h.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(h,"root",{get:function(){return l[i]}}),l[i]=h;for(var p=0;p<t.length;p++)h(t[p]);if(n){var m=h(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return m})}}({"4ol4K":[function(e,t,n,i){let o=globalThis.self,s="hanan66-final-v3",r="hanan66-api-v1",a=["./","./index.html","./statistics.html","./map.html","./prevention.html","./contact.html","./news.html","./css/main.css","./js/main.js","./js/map.js","./js/news.js","./js/charts.js","./assets/images/hero-bg.jpg","./assets/images/virus1.svg","./assets/images/virus1.png","./assets/images/news-placeholder.jpg"];async function l(e){try{let t=e.url.startsWith("http:")?new Request(e.url.replace("http://","https://"),e):e,n=await fetch(t);if(n.ok){let t=await caches.open(r);await t.put(e,n.clone())}return n}catch(t){return console.error("[SW] API request failed:",t),await caches.match(e)||new Response(JSON.stringify({error:"Network error"}),{status:503,headers:{"Content-Type":"application/json"}})}}async function c(e){try{let t=await fetch(e);if(t.ok){let n=await caches.open(s);await n.put(e,t.clone())}return t}catch(e){throw console.error("[SW] Fetch failed:",e),e}}o.addEventListener("install",e=>{e.waitUntil(caches.open(s).then(e=>(console.log("[SW] Caching app shell"),Promise.all(a.map(t=>fetch(new Request(t,{credentials:"same-origin",redirect:"follow",mode:"no-cors"})).then(n=>n.ok||"opaque"===n.type?e.put(t,n):(console.warn(`[SW] Failed to cache ${t}`),Promise.resolve())).catch(e=>(console.warn(`[SW] Skipping ${t}:`,e),Promise.resolve())))))).then(()=>(console.log("[SW] Skip waiting"),o.skipWaiting())))}),o.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.filter(e=>e!==s&&e!==r).map(e=>(console.log(`[SW] Deleting old cache: ${e}`),caches.delete(e))))).then(()=>(console.log("[SW] Claiming clients"),o.clients.claim())))}),o.addEventListener("fetch",e=>{let t=e.request;if("GET"===t.method){var n;if((n=t).url.includes("newsapi.org")||n.url.includes("disease.sh")||n.url.includes("gnews.io")){e.respondWith(l(t));return}e.respondWith(caches.match(t).then(e=>e||c(t)).catch(()=>"navigate"===t.mode?caches.match("./offline.html")||new Response("<h1>Offline</h1><p>You are currently offline</p>",{headers:{"Content-Type":"text/html"}}):new Response("Offline",{status:503})))}}),o.addEventListener("message",e=>{"skipWaiting"===e.data&&(console.log("[SW] Skipping waiting"),o.skipWaiting())})},{}]},["4ol4K"],"4ol4K","parcelRequire5828",{});
//# sourceMappingURL=sw.eba3f849.js.map
